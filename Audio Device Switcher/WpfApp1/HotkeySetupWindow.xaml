<Window x:Class="AudioDeviceSwitcher.HotkeySetupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Set Global Hotkey" Height="560" Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Background="#F8F9FA"
        Icon="/Resources/Icon.ico">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Set Global Hotkey" 
                   FontSize="18" FontWeight="SemiBold" 
                   Foreground="#2C3E50"
                   Margin="0,0,0,15"/>

        <!-- Device name -->
        <Border Grid.Row="1" Background="#E8F4FD" BorderBrush="#B3D9FF" BorderThickness="1" 
                CornerRadius="5" Padding="12" Margin="0,0,0,20">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="🎧" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <TextBlock Name="DeviceNameText" FontWeight="SemiBold" 
                           VerticalAlignment="Center" Foreground="#2C3E50"/>
            </StackPanel>
        </Border>

        <!-- Enable hotkey checkbox -->
        <CheckBox Grid.Row="2" Name="EnableHotkeyCheckBox" 
                  Content="Enable global hotkey for this device" 
                  FontSize="14" FontWeight="Medium"
                  Margin="0,0,0,20" 
                  Checked="OnEnableHotkeyChanged" 
                  Unchecked="OnEnableHotkeyChanged"/>

        <!-- Hotkey configuration panel -->
        <Border Grid.Row="3" Name="HotkeyConfigPanel" 
                Background="White" BorderBrush="#D1D5DB" BorderThickness="1" 
                CornerRadius="8" Padding="20" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Hotkey Combination:" 
                           FontSize="14" FontWeight="SemiBold" 
                           Foreground="#374151" Margin="0,0,0,15"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Modifier checkboxes with better styling -->
                    <CheckBox Grid.Column="0" Name="CtrlCheckBox" Content="Ctrl" 
                              FontSize="13" Padding="8,4" MinWidth="60"
                              VerticalAlignment="Center"/>
                    <CheckBox Grid.Column="2" Name="AltCheckBox" Content="Alt" 
                              FontSize="13" Padding="8,4" MinWidth="60"
                              VerticalAlignment="Center"/>
                    <CheckBox Grid.Column="4" Name="ShiftCheckBox" Content="Shift" 
                              FontSize="13" Padding="8,4" MinWidth="60"
                              VerticalAlignment="Center"/>

                    <!-- Key selection with better styling -->
                    <ComboBox Grid.Column="6" Name="KeyComboBox" 
                              MinWidth="120" Height="32"
                              FontSize="13" Padding="8,4"
                              VerticalAlignment="Center"
                              Background="White" BorderBrush="#D1D5DB"/>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Current hotkey display -->
        <Border Grid.Row="4" Background="#F3F4F6" BorderBrush="#D1D5DB" BorderThickness="1" 
                CornerRadius="6" Padding="15" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Current Hotkey:" 
                           FontSize="13" FontWeight="SemiBold" 
                           Foreground="#6B7280" Margin="0,0,0,8"/>
                <Border Background="#FFFFFF" BorderBrush="#D1D5DB" BorderThickness="1"
                        Padding="12,8" CornerRadius="4">
                    <TextBlock Name="CurrentHotkeyText" 
                               FontFamily="Consolas" FontSize="14" 
                               Text="None" Foreground="#1F2937"/>
                </Border>
            </StackPanel>
        </Border>

        <!-- Info text -->
        <Border Grid.Row="5" Background="#FEF3C7" BorderBrush="#F59E0B" BorderThickness="1" 
                CornerRadius="6" Padding="12" Margin="0,0,0,20">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="💡" FontSize="14" VerticalAlignment="Top" Margin="0,0,8,0"/>
                <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#92400E" LineHeight="16">
                    <Run Text="Global hotkeys work system-wide, even when this application is not focused. "/>
                    <Run Text="Choose a combination that won't conflict with other applications."/>
                </TextBlock>
            </StackPanel>
        </Border>

        <!-- Spacer -->
        <Grid Grid.Row="6"/>

        <!-- Buttons -->
        <Border Grid.Row="7" Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0" 
                Margin="-20,0,-20,-20" Padding="20,15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Name="CancelButton" Content="Cancel" 
                        Width="80" Height="32" Margin="0,0,10,0" 
                        FontSize="13" Padding="16,0"
                        Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                        Click="OnCancelClicked" IsCancel="True">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                BorderBrush="{TemplateBinding BorderBrush}" 
                                                BorderThickness="{TemplateBinding BorderThickness}" 
                                                CornerRadius="6" 
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                              VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#F3F4F6"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Background" Value="#E5E7EB"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Name="OkButton" Content="OK" 
                        Width="80" Height="32" 
                        FontSize="13" FontWeight="Medium" Padding="16,0"
                        Background="#3B82F6" BorderBrush="#3B82F6" BorderThickness="1" 
                        Foreground="White"
                        Click="OnOkClicked" IsDefault="True">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                BorderBrush="{TemplateBinding BorderBrush}" 
                                                BorderThickness="{TemplateBinding BorderThickness}" 
                                                CornerRadius="6" 
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                              VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#2563EB"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Background" Value="#1D4ED8"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>